<!DOCTYPE html>

<html lang="en" class="fluigiPage">
<head>
    <title> {{title}} </title>
    <link rel="stylesheet" href="http://cdn.webix.com/edge/webix.css" type="text/css">
    <script src="http://cdn.webix.com/edge/webix.js" type="text/javascript"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../stylesheets/main_fluigi.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap-tour/0.10.3/css/bootstrap-tour-standalone.min.css">
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>

    <script type="text/javascript" src="../javascripts/serialcommunication.js"></script>
    <script type="text/javascript" src="../javascripts/ValveDispenserJSONTracking.js" > </script>
    <script type="text/javascript" src="../javascripts/initiate_data.js"></script>



    <!--Walkthrough tour-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tour/0.10.1/css/bootstrap-tour.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tour/0.10.1/js/bootstrap-tour.js"></script>
    <script src="../javascripts/tour.js"></script>


    <!--3Duf Dependencies-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../lib/nouislider/nouislider.min.js"></script>
    <script src="../lib/paper/paper-full.min.js"></script>
    <script src="../lib/filesaver/FileSaver.min.js"></script>
    <script src="../lib/three/three.min.js"></script>

    <link rel="stylesheet" href="../lib/nouislider/nouislider.min.css">

    <!--<link rel="stylesheet" href="../lib/material/material.min.css">-->
    <!--<script src="../lib/material/material.min.js"></script>-->
    <!--<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->

    <link rel="apple-touch-icon" sizes="180x180" href="../images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="../images/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../images/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="../images/favicons/manifest.json">
    <link rel="mask-icon" href="../images/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../images/favicons/favicon.ico">
    <meta name="msapplication-config" content="../images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!--<link rel="stylesheet" href="../modified.css">-->






    <!--Template for valves to be placed over graph canvas-->
    <template id="valve-template" action="this.preventDefault();">
        <div class ="valve"  action="this.preventDefault();">
            <a class="valve_marker" style="padding-left: 0px; padding-top: 0px;" action="this.preventDefault();">
                <img class="valve_color" action="this.preventDefault();" src="../images/fluigi/valveMarkerOpen.svg" width="40" height="40">
                <p class="IDtext" style="pointer-events: none;">beb</p>
            </a>

        </div>
    </template>
    <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"/>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
</head>

<body>


<!--Fluigi Navigation Bar-->
<nav class="navbar navbar-fixed-top" id="navBar">
    <div class="container-fluid">

        <div class="navbar-header">
            <a class="navbar-brand" >
                <img alt="Brand" src="../images/fluigi/fluigiLogoFluigi.png">
            </a>
        </div>

        <div>

            <ul class="nav navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../"> <img src="../images/fluigi/homeButtonTransparent.png"> </a></li>
                <li class="nav-item"><a class="nav-link"> <img onclick="settingsButtonPressed();" id="settingspage" src="../images/fluigi/settingsIcon.png" > </a></li>
                <!--<li class="nav-item"> <a class="nav-link" href="../serialcommunication"> <img id="connected" height= "60" src="../images/fluigi/connectedIcon.png"></a></li>-->
                <li class="nav-item"><a class="nav-link"><img onclick= "window.open('../serialcommunication')"  src="../images/fluigi/connectedIcon.png"></a></li>
                <li class="nav-item"><a class="nav-link"><img onclick="openDebugger()"  src="../images/fluigi/buildIcon.png" id="myDebuggerBtn"  ></a></li>
                <!--<li class="nav-item"><a class="nav-link" id="connection"><img onclick="openConnectionPage()"  src="../images/fluigi/connectedIcon.png"></a></li>-->

            </ul>

        </div>
    </div>
</nav>


<!--Draw Canvas (resize to page width/height in js)-->

<!--<div id="container" style="background:#34495e;">-->
    <!--<div class="col-sm-6 col-md-3 sidebar" style="padding-top: 150px; padding-left: 10px;">-->
        <!--<div class="mini-submenu">-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
        <!--</div>-->
        <!--<div class="list-group">-->
        <!--<span href="#" class="list-group-item active">-->
            <!--Serial Commands Console-->
            <!--<span class="pull-right" id="slide-submenu">-->
                <!--<i class="fa fa-times"></i>-->
            <!--</span>-->
        <!--</span>-->
            <!--<form name='form1'>-->
                <!--<textarea readonly="true" class="form-control" style="resize:vertical;" rows="5" cols="10" name='area'></textarea>-->
            <!--</form>-->
        <!--</div>-->
    <!--</div>-->


    <!--<canvas id="canvasID" ></canvas>-->
    <!--&lt;!&ndash;JS to draw SVG in canvas&ndash;&gt;-->
    <!--<script src="../javascripts/fluigiGraph.js" type="application/javascript"></script>-->
    <!--&lt;!&ndash;This is where valves go!&ndash;&gt;-->
    <!--<div id="content"></div>-->

<!--</div>-->





<div>
    <main>
        <div id="view_container" class="page-content ">
            <div id="canvas_block" class="shown-block fade-transition">
                <canvas id="c" tabindex="0" ></canvas>
                <script src="../javascripts/fluigiGraph.js" type="application/javascript"></script>

                <!--This is where valves go!-->
                <div id="content"></div>
            </div>
            <div id="renderContainer" class="hidden-block fade-transition"></div>
        </div>
    </main>

</div>



<div id= "upload_bar" class="uploadbar" align="center">
    <div>

        <form id="uploadForm"
              enctype="multipart/form-data"
              action="/api/build_JSON"
              method="post">
            <div id="div1"><input id= "inputfile_JSON" class="btn btn-default" type="file" name="buildJSON" /></div>

        <div id="div3">
            <input id="uploadfile" class= "btn btn-default" type="submit" value="Upload JSON" name="submit" >
            <span id = "status"></span>
        </div>

        </form>
    </div>
</div>




<div id="debugger_modal" class="modal" style="width: 500px; padding-left: 10px; padding-top: 150px;">

    <div class="modal-content">
        <div class="modal-header">
            <h2>Pump & Motor Debugger</h2>
        </div>
        <div class="modal-body">
        </br>
        <p> Debugger in development. </br> This page allows you to select a pump, change its state, and precisely control the motor which controls the pump. </p>

        <form class="actuators_debugger">
            Valve/Motor to Control:<br>
            <input id="ValveNumberSelectorDebug" type="text" ><br>
            State to apply:<br>
            <input id="ValveStateAssignerDebug" type="text" ><br>
            Or, PWM value to apply:<br>
            <input id="MotorPositionAssignerDebug" type="text" ><br><br>
            <input class="operate_modal" type="submit" value="Change pump state" onclick="mediateValveState_fromDebugger(event)">
            <input class="operate_modal" type="submit" value="Change motor position" onclick="mediateMotorPosition(event)">
        </form>
        </div>
        <div class="modal-footer">
            <button class="close_modal" onclick="closeDebugger()" >Close Debugger</button>
        </div>
    </div>

</div>

<!--SERIAL COMMUNICATION MODAL-->
<style>
    ul#ui li {
        display: inline;
    }
    ul#ui li#port-list {
        display: block;
    }
</style>


<script src="../javascripts/serialcommunication.js"></script>

<div id="connection_modal" class="modal" style="width: 500px; padding-left: 10px; padding-top: 150px;">

    <div class="modal-content">
        <div class="modal-header">
            <h2>Arduino Connection</h2>
        </div>
        <div class="modal-body">
            <ul id="ui">
                <div class="btn-group" role="group" style="padding-left: 10px; padding-top: 10px;">
                    <li>
                        <button class="btn btn-default" id="begin-comm"> Open Connection</button>
                    </li>
                    <li>
                        <button class="btn btn-default" id="end-comm"> Close Connection</button>
                    </li>
                    <li id="port-list">
                        <label for="ports" >Serial Ports Available</label>
                        <select id="ports">
                            {{#each serialPorts}} <!-- // Note the reference to the customers object​-->
                                <option value={{this.comName}}> name: {{ this.comName }} </option>​
                            {{/each}}
                        </select>
                    </li>
                </div>
            </ul>
        </div>
        <div class="modal-footer">
            <button class="close_modal" onclick="closeConnectionPage()" >Close Debugger</button>
        </div>
    </div>
</div>
<!--END SERIAL COMMUNICATTION MODAL-->


<!-- LEAVE JS FOR LAST - faster loading time -->
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

</body>

<script src="../javascripts/3DuFApp.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>

<script src="../javascripts/uploadBar.js" type="application/javascript"></script>
<script>
    $(window).bind("load", function() {

            console.log(paper.view.zoom);


    });
</script>

</html>
