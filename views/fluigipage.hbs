<!DOCTYPE html>

<html lang="en" class="fluigiPage">
<head>
    <title> {{title}} </title>
    <link rel="stylesheet" href="http://cdn.webix.com/edge/webix.css" type="text/css">
    <script src="http://cdn.webix.com/edge/webix.js" type="text/javascript"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../stylesheets/main_fluigi.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap-tour/0.10.3/css/bootstrap-tour-standalone.min.css">
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>

    <script type="text/javascript" src="../javascripts/serialcommunication.js"></script>
    <script type="text/javascript" src="../javascripts/fluigipage.js" > </script>
    <script type="text/javascript" src="../javascripts/initiate_data.js"></script>



    <!--Walkthrough tour-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tour/0.10.1/css/bootstrap-tour.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tour/0.10.1/js/bootstrap-tour.js"></script>
    <script src="../javascripts/tour.js"></script>


    <!--3Duf Dependencies-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../lib/nouislider/nouislider.min.js"></script>
    <script src="../lib/paper/paper-full.min.js"></script>
    <script src="../lib/filesaver/FileSaver.min.js"></script>
    <script src="../lib/three/three.min.js"></script>

    <link rel="stylesheet" href="../lib/nouislider/nouislider.min.css">

    <link rel="stylesheet" href="../lib/material/material.min.css">
    <script src="../lib/material/material.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!--<link rel="stylesheet" href="../modified.css">-->






    <!--Template for valves to be placed over graph canvas-->
    <template id="valve-template" action="this.preventDefault();">
        <div class ="valve"  action="this.preventDefault();">
            <a class="valve_marker" style="padding-left: 0px; padding-top: 0px;" action="this.preventDefault();">
                <img class="valve_color" action="this.preventDefault();" src="../images/fluigi/valveMarkerOpen.svg" width="40" height="40">
                <p class="IDtext" style="pointer-events: none;">beb</p>
            </a>

        </div>
    </template>
    <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"/>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
</head>

<body>


<!--Fluigi Navigation Bar-->
<nav class="navbar navbar-fixed-top" id="navBar">
    <div class="container-fluid">

        <div class="navbar-header">
            <a class="navbar-brand" >
                <img alt="Brand" src="../images/fluigi/fluigiLogoFluigi.png">
            </a>
        </div>

        <div>

            <ul class="nav navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../"> <img src="../images/fluigi/homeButtonTransparent.png"> </a></li>
                <li class="nav-item"><a class="nav-link"> <img onclick="settingsButtonPressed();" id="settingspage" src="../images/fluigi/settingsIcon.png" > </a></li>
                <!--<li class="nav-item"> <a class="nav-link" href="../serialcommunication"> <img id="connected" height= "60" src="../images/fluigi/connectedIcon.png"></a></li>-->
                <li class="nav-item"><a class="nav-link"><img onclick= "window.open('../serialcommunication')"  src="../images/fluigi/connectedIcon.png"></a></li>
                <li class="nav-item"><a class="nav-link"><img onclick="openDebugger()"  src="../images/fluigi/buildIcon.png" id="myDebuggerBtn"  ></a></li>
                <!--<li class="nav-item"><a class="nav-link"><img onclick="openSerialConsole()" src="../images/fluigi/consoleIcon.png" id="myConsoleBtn" ></a></li>-->
                 <!--<li class="nav-item" style="padding-top: 15px;"><a class="btn btn-default" role="button" data-toggle="modal" data-target="#serialConsoleModal"> Open Serial Console</a></li>-->
                <!--<li class="nav-item"><a class="nav-link"><img onclick="openSerialConsole()" src="../images/fluigi/consoleIcon.png" id="myConsoleBtn" ></a></li>-->
            </ul>

        </div>
    </div>
</nav>


<!--Draw Canvas (resize to page width/height in js)-->

<!--<div id="container" style="background:#34495e;">-->
    <!--<div class="col-sm-6 col-md-3 sidebar" style="padding-top: 150px; padding-left: 10px;">-->
        <!--<div class="mini-submenu">-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
        <!--</div>-->
        <!--<div class="list-group">-->
        <!--<span href="#" class="list-group-item active">-->
            <!--Serial Commands Console-->
            <!--<span class="pull-right" id="slide-submenu">-->
                <!--<i class="fa fa-times"></i>-->
            <!--</span>-->
        <!--</span>-->
            <!--<form name='form1'>-->
                <!--<textarea readonly="true" class="form-control" style="resize:vertical;" rows="5" cols="10" name='area'></textarea>-->
            <!--</form>-->
        <!--</div>-->
    <!--</div>-->


    <!--<canvas id="canvasID" ></canvas>-->
    <!--&lt;!&ndash;JS to draw SVG in canvas&ndash;&gt;-->
    <!--<script src="../javascripts/fluigiGraph.js" type="application/javascript"></script>-->
    <!--&lt;!&ndash;This is where valves go!&ndash;&gt;-->
    <!--<div id="content"></div>-->

<!--</div>-->

<div id="main_window" class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
            mdl-layout--overlay-drawer-button ">
    <main class="">
        <div id="view_container" class="page-content">
            <div id="canvas_block" class="shown-block fade-transition">
                <canvas id="c" tabindex="0" ></canvas>
                <script src="../javascripts/fluigiGraph.js" type="application/javascript"></script>

                <!--This is where valves go!-->
                <div id="content"></div>
            </div>
            <!--<div id="renderContainer" class="hidden-block fade-transition"></div>-->
        </div>
    </main>

</div>








<!--Upload Bar-->

<!--<div id="uploadIcon">-->
    <!--<div style="height:0px;overflow:hidden">-->
        <!--<input type="file" id="inputfile" name="fileInput" />-->
    <!--</div>-->
    <!--<button type="button" onclick="chooseFile();">choose file</button>-->

<!--</div>-->


<!--<script>-->
    <!--function chooseFile() {-->
        <!--$("#fileInput").click();-->
    <!--}-->
<!--</script>-->


<div id= "upload_bar" class="uploadbar" align="center">
    <div>

        <form id="uploadForm"
              enctype="multipart/form-data"
              action="/api/JSON"
              method="post">
            <div id="div1"><input id= "inputfile_JSON" class="btn btn-default" type="file" name="myjson" /></div>

        <div id="div3">
            <input id="uploadfile" class= "btn btn-default" type="submit" value="Upload JSON" name="submit" >
            <span id = "status"></span>
        </div>

        </form>
    </div>


    <div>
        <!--<form id="uploadForm2"-->
                  <!--enctype="multipart/form-data"-->
                  <!--action="/api/SVG"-->
                  <!--method="post">-->
                <!--<div id="div2"><input id= "inputfile2" class="btn btn-default" type="file" name="mySVG" /></div>-->

            <!--<div id="div4">-->
                <!--<input id="uploadfile2" class= "btn btn-default" type="submit" value="Upload SVG" name="submit">-->
                <!--<span id = "status2"></span>-->
            <!--</div>-->

        <!--</form>-->
    </div>
</div>







<div id="debugger_modal" class="modal" style="width: 500px; padding-left: 10px; padding-top: 150px;">

    <div class="modal-content">
        <div class="modal-header">
            <h2>Pump & Motor Debugger</h2>
        </div>
        <div class="modal-body">
        </br>
        <p> Debugger in development. </br> This page allows you to select a pump, change its state, and precisely control the motor which controls the pump. </p>

        <form class="actuators_debugger">
            Valve/Motor to Control:<br>
            <input id="ValveNumberSelectorDebug" type="text" ><br>
            State to apply:<br>
            <input id="ValveStateAssignerDebug" type="text" ><br>
            Or, PWM value to apply:<br>
            <input id="MotorPositionAssignerDebug" type="text" ><br><br>
            <input class="operate_modal" type="submit" value="Change pump state" onclick="mediateValveState_fromDebugger(event)">
            <input class="operate_modal" type="submit" value="Change motor position" onclick="mediateMotorPosition(event)">
        </form>
        </div>
        <div class="modal-footer">
            <button class="close_modal" onclick="closeDebugger()" >Close Debugger</button>
        </div>
    </div>

</div>



<!--<div class="list-group">-->
        <!--<h4 style="color: white;">Serial Commands Console</h4>-->
        <!--<form name='form1'>-->
            <!--<textarea class="form-control" rows="5" cols="10" name='area'></textarea>-->
        <!--</form>-->
<!--</div>-->

<!--<div id="serialConsole_modal" class="modal_serial">-->

    <!--<div class="modal-content_serial">-->
        <!--<div class="modal-header_serial">-->
            <!--<h2>Serial Console</h2>-->
        <!--</div>-->
        <!--<div class="modal-body_serial">-->
            <!--</br>-->
            <!--<p> Serial Console in development. </br> This page provides a history of your serial commands.</p>-->
            <!--</br>-->
            <!--<iframe id="serial_console"-->
                    <!--width="95%"-->
                    <!--height="90%"-->
                    <!--frameborder="0"-->
                    <!--scrolling="yes"-->
                    <!--marginheight="0"-->
                    <!--marginwidth="0"-->
                    <!--src="../uploads/mySerialConsole.txt">-->
            <!--</iframe>-->


        <!--</div>-->
        <!--<div class="modal-footer_serial">-->
            <!--<button class="close_modal_serial" onclick="closeSerialConsole()" >Close Serial Console</button>-->
        <!--</div>-->
    <!--</div>-->

<!--</div>-->



<!--<div id="serialConsole_modal" class="modal_serial" style="width: 500px; padding-left: 10px; padding-top: 150px;">-->

    <!--<div class="modal-content_serial">-->
        <!--<div class="modal-header_serial">-->
            <!--<h2>Serial Console</h2>-->
        <!--</div>-->
        <!--<div class="modal-body_serial">-->
            <!--</br>-->
            <!--<p> Serial Console in development. </br> This page provides a history of your serial commands.</p>-->
            <!--</br>-->
            <!--<iframe id="serial_console"-->
                    <!--width="95%"-->
                    <!--height="90%"-->
                    <!--frameborder="0"-->
                    <!--scrolling="yes"-->
                    <!--marginheight="0"-->
                    <!--marginwidth="0"-->
                    <!--src="../uploads/mySerialConsole.txt">-->
            <!--</iframe>-->

        <!--</div>-->
        <!--<div class="modal-footer_serial">-->
            <!--<button class="close_modal_serial" onclick="closeSerialConsole()" >Close Serial Console</button>-->
        <!--</div>-->
    <!--</div>-->

<!--</div>-->

<!--<form class="actuators">-->
    <!--Valve to Actuate:<br>-->
    <!--<input id="ValveNumberSelector" type="text" ><br>-->
    <!--State to Apply:<br>-->
    <!--<input id="ValveStateAssigner" type="text" ><br><br>-->
    <!--<input type="submit" value="Send to Arduino" onclick="mediateValveState(event)">-->
<!--</form>-->


<!-- LEAVE JS FOR LAST - faster loading time -->
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

</body>

<script src="../javascripts/3DuFApp.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>

<script src="../javascripts/uploadBar.js" type="application/javascript"></script>
<script>
    $(window).bind("load", function() {

            console.log(paper.view.zoom);


    });
</script>

</html>